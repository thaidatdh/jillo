(this.webpackJsonpjillo=this.webpackJsonpjillo||[]).push([[0],{122:function(e,a,t){e.exports=t(255)},127:function(e,a,t){},131:function(e,a){},132:function(e,a,t){},133:function(e,a,t){},135:function(e,a,t){},136:function(e,a,t){},137:function(e,a,t){},142:function(e,a,t){},143:function(e,a,t){},144:function(e,a,t){},145:function(e,a,t){},146:function(e,a,t){},253:function(e,a,t){},255:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(13),r=t.n(o);t(127),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(254),t(131);var c=t(12),i=t(10),s=t(6);t(132),t(133);var d=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=t[0],r=t[1],d=Object(n.useState)(""),m=Object(s.a)(d,2),u=m[0],g=m[1],p=Object(n.useState)(""),b=Object(s.a)(p,2),h=b[0],f=b[1],E=Object(n.useState)(!1),v=Object(s.a)(E,2),y=v[0],j=v[1],k=Object(n.useState)(""),N=Object(s.a)(k,2),O=N[0],w=N[1],C=Object(i.g)();return localStorage.token_id?l.a.createElement(i.a,{to:"/"}):l.a.createElement("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),h.length<8||u.length<=0)console.log("error");else{var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:u,password:h})};fetch("https://jillo-backend.herokuapp.com/api/user/signin",a).then((function(e){return e.json()})).then((function(e){console.log(e),j(!e.success),console.log(y),e.success?(localStorage.setItem("token",e.token),localStorage.setItem("token_id",e.data),C.push("/")):w(e.msg)})).catch((function(e){j("Error when login"),console.log(e)}))}}},l.a.createElement("h2",null,"Login"),y?l.a.createElement("div",{style:{backgroundColor:"red",color:"darkred",padding:10,borderRadius:10,marginTop:10,marginBottom:20}},O):null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"email",type:"text",placeholder:"Username (or Email)",autocomplete:"username",required:"",focus:"",className:"ng-pristine ng-empty ng-invalid ng-invalid-required ng-touched","aria-invalid":"true",onChange:function(e){return function(e){g(e),h.length>=8&&e.length>0?r(!0):r(!1)}(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"password",type:"password",maxLength:"75",placeholder:"Password",autocomplete:"current-password",required:"",className:"ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required ng-valid-maxlength","aria-invalid":"true",onChange:function(e){return function(e){f(e),e.length>=8&&u.length>0?r(!0):r(!1)}(e.target.value)}}),l.a.createElement(c.b,{to:"/forgot-password",className:"forgot-password",style:{color:"black"}},"Forgot password?")),l.a.createElement("button",{type:"submit",className:"button first",disabled:!o},"Login"),l.a.createElement("br",null),l.a.createElement("button",{className:"google-login"},"Google Login"),l.a.createElement("br",null),"Or \xa0",l.a.createElement(c.b,{to:"/register",style:{color:"black"}},"Register"))};t(135);var m=function(e){var a=Object(n.useState)(!1),t=Object(s.a)(a,2),o=t[0],r=t[1],d=Object(n.useState)(""),m=Object(s.a)(d,2),u=m[0],g=m[1],p=Object(n.useState)(""),b=Object(s.a)(p,2),h=b[0],f=b[1],E=Object(n.useState)(""),v=Object(s.a)(E,2),y=v[0],j=v[1],k=Object(n.useState)(""),N=Object(s.a)(k,2),O=N[0],w=N[1],C=Object(n.useState)(""),S=Object(s.a)(C,2),x=S[0],_=S[1],T=Object(n.useState)(!1),A=Object(s.a)(T,2),D=A[0],R=A[1];return localStorage.token_id?l.a.createElement(i.a,{to:"/"}):l.a.createElement("form",{className:"form ng-pristine ng-invalid ng-invalid-required ng-valid-maxlength ng-valid-email ng-valid-pattern",layout:"column",onSubmit:function(e){if(e.preventDefault(),!(O.length<8||u.length<=0)){var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:u,name:h,password:O,email:y})};fetch("https://jillo-backend.herokuapp.com/api/user/signup",a).then((function(e){return e.json()})).then((function(e){R(e.success),_(e.msg)})).catch((function(e){_("Error when register"),console.log(e)}))}}},l.a.createElement("h2",null,"Register"),x&&!D?l.a.createElement("div",{style:{backgroundColor:"red",color:"darkred",padding:10,borderRadius:10,marginTop:10,marginBottom:20}},x):null,D?l.a.createElement("div",{style:{backgroundColor:"#d4edda",color:"darkred",padding:10,borderRadius:10,marginTop:10,marginBottom:20}},x):null,l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"name",maxLength:"100",type:"text",placeholder:"Name",autoComplete:"given-name",required:"",focus:"",className:"ng-pristine ng-empty ng-invalid ng-invalid-required ng-valid-maxlength ng-touched","aria-invalid":"true",onChange:function(e){f(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"username",maxLength:"100",type:"text",placeholder:"Username",autoComplete:"username",required:"",className:"ng-pristine ng-untouched ng-empty ng-valid-email ng-invalid ng-invalid-required ng-valid-maxlength","aria-invalid":"true",onChange:function(e){g(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"email",maxLength:"100",type:"email",placeholder:"Email",autoComplete:"username",required:"",className:"ng-pristine ng-untouched ng-empty ng-valid-email ng-invalid ng-invalid-required ng-valid-maxlength","aria-invalid":"true",onChange:function(e){j(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{id:"password","ng-model":"password",type:"password",maxLength:"75",pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*?[0-9])(?=.*[a-z]).*$",placeholder:"Password",autoComplete:"new-password",required:"",className:"ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required ng-valid-pattern ng-valid-maxlength","aria-invalid":"true",onChange:function(e){w(e.target.value)}}),l.a.createElement("small",{className:"hint"},"Should contain at least 8 chars, 1 number, 1 uppercase, 1 lowercase and 1 special char.")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"accept-terms"},l.a.createElement("input",{id:"accept-terms",type:"checkbox",required:"",className:"ng-pristine ng-untouched ng-empty ng-invalid ng-invalid-required","aria-invalid":"true",onChange:function(e){r(e.target.checked)}}),"By signing up you agree to our \xa0",l.a.createElement(c.b,{to:"/terms",style:{color:"black"}},"Terms"),"\xa0 and \xa0",l.a.createElement(c.b,{to:"/privacy",style:{color:"black"}},"Privacy Policy")),l.a.createElement("br",null)),l.a.createElement("br",null),l.a.createElement("button",{type:"submit",className:"button first",disabled:!o},"Register"),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"google-login",disabled:!o},"Google Login"),l.a.createElement("br",null),"Or"," ",l.a.createElement(c.b,{to:"/login",style:{color:"black"}},"Login"))};var u=function(e){var a=Object(n.useState)(e.formState),t=Object(s.a)(a,2),o=(t[0],t[1]),r="login"===e.formState?l.a.createElement(d,{setFormState:function(){o("register")}}):l.a.createElement(m,{setFormState:function(){o("login")}});return l.a.createElement("span",{className:"form-container"},l.a.createElement("a",{onClick:void console.log("change location")}," ",l.a.createElement("h1",null,"Jillo")," "),r)},g=(t(136),t(262)),p=t(53);t(137);var b=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),o=t[0],r=t[1],d=Object(i.g)();return Object(n.useEffect)((function(){if(localStorage.token)try{var e=Object(p.a)(localStorage.token);r(e.name)}catch(a){}}),[]),localStorage.token_id?l.a.createElement("div",null,l.a.createElement("header",{className:"app-header","aria-hidden":"false"},l.a.createElement("div",{className:"header-filters"},l.a.createElement("div",{className:"logo",role:"button",tabIndex:"0"},l.a.createElement("span",null,l.a.createElement(c.b,{to:"/"},"Jillo")))),l.a.createElement("span",{className:"header-controls"},l.a.createElement("span",{className:"header-icon"},l.a.createElement(g.a,{style:{backgroundColor:"transparent"}},l.a.createElement(g.a.Toggle,{variant:"success",id:"dropdown-basic",className:"user-menu",style:{backgroundColor:"gray",borderWidth:0,borderRadius:12.5,width:25,height:25}},l.a.createElement("span",{className:"user-menu",style:{display:"flex",justifyContent:"center",alignSelf:"center",justifySelf:"center"}},o.length>0?o[0]:"?")),l.a.createElement(g.a.Menu,{style:{backgroundColor:"white",display:"flex",flexDirection:"column"}},l.a.createElement(g.a.Header,null,o),l.a.createElement(g.a.Item,{href:"/profile"},"Profile"),l.a.createElement(g.a.Item,{onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("token_id"),d.push("/login")}},"Sign Out"))))))):d.push("/login")},h=t(264),f=t(14),E=t(58),v=t.n(E),y=t(263),j=t(261),k=t(33),N=(t(142),{year:"numeric",month:"short",day:"numeric"});var O=function(e){var a=Object(n.useState)(e.board),t=Object(s.a)(a,2),o=t[0],r=(t[1],Object(n.useState)([])),i=Object(s.a)(r,2),d=i[0],m=i[1],u=Object(n.useState)(0),g=Object(s.a)(u,2),p=g[0],b=g[1],h=new Date(o.created_at).toLocaleDateString("en-US",N);Object(n.useEffect)((function(){var e="https://jillo-backend.herokuapp.com/api/column/board/".concat(o._id);if(fetch(e,{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){var a=e.data.slice();a.sort((function(e,a){return e.order-a.order})),m(a)})).catch((function(e){return console.log(e)})),0!==d.length){var a=d.map((function(e){return e._id})),t="https://jillo-backend.herokuapp.com/api/card/column/columns=".concat(a,"/count");fetch(t,{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){b(e.data)})).catch((function(e){return console.log(e)}))}}));var E="/board/".concat(o._id);return l.a.createElement("li",{key:0,className:"dashboard-item dashboard-board ng-scope",id:"board_0"},l.a.createElement("a",null,l.a.createElement("div",{className:"dashboard-item-body"},l.a.createElement("p",{className:"board-name ng-binding"},l.a.createElement(c.b,{to:E},o.name)),l.a.createElement("p",{className:"ng-binding"}),l.a.createElement("span",{className:"board-date ng-binding"},l.a.createElement("i",{className:"fa fa-clock"}),h),l.a.createElement("span",{className:"tag ng-binding ng-scope"},p," cards")),l.a.createElement("ul",{className:"board-small ng-scope"},d.length>0?d.map((function(e){return l.a.createElement("li",{key:e._id,className:"board-small-column ng-scope"},l.a.createElement("span",{className:"board-small-column-name ng-binding"},e.name),l.a.createElement(y.a,{placement:"top",overlay:l.a.createElement(j.a,{style:{backgroundColor:"black",color:"white",padding:5,marginBottom:3,borderRadius:5}},e.name)},l.a.createElement("ul",{className:"column"},l.a.createElement("li",{className:"front",style:{background:e.color,width:"100%",minHeight:"7px"}},"\xa0"))))})):l.a.createElement("li",{className:"board-small-column ng-scope"},l.a.createElement("span",{className:"board-small-column-name ng-binding"}),l.a.createElement("ul",{className:"column"},l.a.createElement("li",{className:"front",style:{background:"transparent",width:"100%",minHeight:"7px"}},"\xa0"))))),l.a.createElement("div",{className:"board-actions","aria-hidden":"false"},l.a.createElement("a",{className:"board-action","aria-hidden":"false",onClick:function(){e.onCopy(),v()("http://localhost:3000/board/".concat(o._id))}},l.a.createElement(f.a,{icon:"copy",style:{marginRight:5}})," URL"),l.a.createElement(k.a,{trigger:l.a.createElement("a",{className:"board-action","aria-hidden":"false"},l.a.createElement(f.a,{icon:"trash-alt",style:{marginRight:5}})," ","Delete"),modal:!0,nested:!0},(function(e){return l.a.createElement("div",{className:"modal swal2-popup",style:{borderColor:"black",borderWidth:10,backgroundColor:"#2196f3"}},l.a.createElement("div",{className:"content"},l.a.createElement("div",{style:{backgroundColor:"white",padding:20,borderRadius:10}},l.a.createElement("h2",{style:{color:"black"}},"Are you sure you want to delete"," ",l.a.createElement("strong",null,o.name),"?"),l.a.createElement("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:10}},l.a.createElement("button",{type:"button",className:"swal2-confirm swal2-styled",style:{marginTop:10},onClick:function(){fetch("https://jillo-backend.herokuapp.com/api/board/".concat(o._id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){return console.log(e)})),e()}},"Yes, delete it!"),l.a.createElement("button",{type:"button",className:"swal2-cancel swal2-styled",onClick:function(){e()}},"No. Keep it!")))))}))))};t(143);var w=function(e){var a=Object(n.useState)(""),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),d=i[0],m=i[1],u=e.onClose;return l.a.createElement("div",{className:"modal swal2-popup",style:{borderColor:"black",borderWidth:10,backgroundColor:"#2196f3"}},l.a.createElement("div",{className:"content"},l.a.createElement("div",{class:"create-board form create-board-show",role:"button",tabindex:"0"},d?l.a.createElement(h.a,{variant:"error",style:{display:"flex",backgroundColor:"#f8d7da",flexDirection:"row-reverse",alignItems:"center",justifyContent:"center",paddingLeft:50,paddingRight:50,marginBottom:10}},l.a.createElement("p",{style:{color:"darkred",textAlign:"center"}},d)):null,l.a.createElement("div",{class:"create-board-header",style:{flexDirection:"row",display:"flex",justifyContent:"space-around"}},l.a.createElement("a",{style:{justifySelf:"flex-start",alignSelf:"center"}},l.a.createElement(f.a,{icon:"times",color:"transparent"})),l.a.createElement("h1",{style:{justifySelf:"center"}},"Create Board"),l.a.createElement("a",{style:{justifySelf:"flex-end",alignSelf:"center"},"aria-label":"Close settings sidebar",onClick:function(){return e.onClose()}},l.a.createElement(f.a,{icon:"times",color:"black"}))),l.a.createElement("div",{class:"create-board-body"},l.a.createElement("form",{name:"createBoardForm",class:"ng-valid ng-valid-maxlength ng-dirty ng-valid-parse"},l.a.createElement("label",{for:"newBoardName"},"Name "),l.a.createElement("input",{id:"newBoardName",type:"text",maxlength:"100",autofocus:"",class:"ng-pristine ng-valid ng-empty ng-valid-maxlength ng-touched","aria-invalid":"false",value:o,onChange:function(e){r(e.target.value)}}),l.a.createElement("div",{class:"template"},l.a.createElement("label",{for:"template","aria-hidden":"false"},"Template"),l.a.createElement("div",{class:"ng-scope"},l.a.createElement("span",{class:"header-select-container board-select-container"},l.a.createElement("select",{class:"bigger ng-valid ng-not-empty ng-dirty ng-valid-parse ng-touched",id:"activity",name:"activity","aria-invalid":"false"},l.a.createElement("option",{selected:!0,label:"Went Well - To Improve - Action Items",value:"object:158"},"Went Well - To Improve - Action Items"))),l.a.createElement("div",{class:"ng-scope"},l.a.createElement("div",{class:"columns template"},l.a.createElement("h3",{nclass:"ng-scope"},"Columns"),l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",{class:"ng-scope"},l.a.createElement("span",{class:"ng-binding"},"Went Well")),l.a.createElement("li",{class:"ng-scope"},l.a.createElement("span",{class:"ng-binding"},"To Improve")),l.a.createElement("li",{class:"ng-scope"},l.a.createElement("span",{class:"ng-binding"},"Action Items")))))))),l.a.createElement("button",{value:"Submit",type:"button",class:"confirm",onClick:function(){if(0!==o.length){var e=localStorage.token_id,a=[{name:"Went Well",color:"#009688",order:1},{name:"To Improve",color:"#e91e62",order:2},{name:"Action Items",color:"#8727b0",order:3}],t={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:o,owner_id:e})};fetch("https://jillo-backend.herokuapp.com/api/board",t).then((function(e){return e.json()})).then((function(e){if(e.data){var t=e.data;a.forEach((function(e){var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,color:e.color,board_id:t._id,order:e.order})};fetch("https://jillo-backend.herokuapp.com/api/column",a).then((function(e){return e.json()})).then((function(e){u()})).catch((function(e){return console.log(e)}))}))}})).catch((function(e){return console.log(e)}))}else m("Please Enter valid Name")}},"CREATE"))))))};t(144);var C=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)(!1),d=Object(s.a)(c,2),m=d[0],u=d[1];Object(n.useEffect)((function(){var e=localStorage.token_id;fetch("https://jillo-backend.herokuapp.com/api/board/user/".concat(e),{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}));var g=function(){u(!0)},p=l.a.createElement("li",{className:"dashboard-item add-item tooltip ng-scope",role:"button",tabIndex:"0"},l.a.createElement("span",{className:"add"},l.a.createElement("i",{className:" fa fa-plus"})," ",l.a.createElement("small",null,"Add board")));return localStorage.token_id?l.a.createElement("div",null,l.a.createElement("div",{className:"dashboard ng-scope"},l.a.createElement("h1",null,"My boards"),l.a.createElement("div",{className:"ng-scope"},m?l.a.createElement(h.a,{variant:"success",style:{display:"flex",backgroundColor:"#d4edda",flexDirection:"row-reverse",alignItems:"center",justifyContent:"center",paddingLeft:50,paddingRight:50}},l.a.createElement("p",{style:{color:"#155724",textAlign:"center"}},"Board URL copied! Share it with people to collaborate.")):null,l.a.createElement("h2",null,l.a.createElement("span",null,"Public boards",l.a.createElement("small",null,"collaborate by sharing URL with people"))),l.a.createElement("ul",null,l.a.createElement(k.a,{trigger:p,modal:!0,nested:!0},(function(e){return l.a.createElement(w,{onClose:e})})),o.map((function(e){return l.a.createElement(O,{key:e._id,board:e,onCopy:g})})))))):l.a.createElement(i.a,{to:"/login"})};t(145),t(146);var S=function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)(""),d=Object(s.a)(c,2),m=d[0],u=d[1],g=Object(n.useState)(!0),p=Object(s.a)(g,2),b=p[0],h=p[1];return Object(n.useEffect)((function(){fetch("https://jillo-backend.herokuapp.com/api/board/".concat(e.boardId),{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}),[]),o?l.a.createElement("div",null,l.a.createElement("nav",{menu:"",className:"ng-scope"},l.a.createElement("div",{className:"menu board-menu","aria-hidden":"false"},l.a.createElement("span",{className:"board-name-container",role:"button",tabIndex:"0","aria-hidden":"false",style:{display:b?"inline-flex":"none"},onClick:function(){h(!1),u(o.name)}},l.a.createElement("h2",{id:"board-name",className:"board-name edit-board-name ng-binding"},o.name)),l.a.createElement("div",{style:{flexDirection:"row",display:b?"none":"inline-flex"}},l.a.createElement("input",{type:"text",maxLength:"50",style:{width:200},value:m,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{onClick:function(){if(m!==o.name){var e={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:m})};fetch("https://jillo-backend.herokuapp.com/api/board/".concat(o._id),e).then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)})),h(!0)}else h(!0)}},"Save"),l.a.createElement("button",{onClick:function(){h(!0)}},"Cancel")),l.a.createElement("input",{id:"board-context",className:"board-context ng-pristine ng-valid ng-empty ng-valid-maxlength ng-touched",placeholder:"Set the context of the retrospective here...",maxLength:"140","aria-label":"Board context","aria-hidden":"false","aria-invalid":"false"}),l.a.createElement("span",{className:"menu-controls"},l.a.createElement("button",{className:"normal-button import-btn copy-clipboard ng-scope",onClick:function(){return e.onShare()}},"Share"))))):l.a.createElement(i.a,{to:"/"})},x=t(265),_=t(121);t(82);var T=function(e){var a={backgroundColor:e.color},t=Object(n.useState)(JSON.parse(JSON.stringify(e.card))),o=Object(s.a)(t,2),r=o[0],c=o[1],i=Object(n.useState)(!1),d=Object(s.a)(i,2),m=d[0],u=d[1],g=Object(n.useState)(""),p=Object(s.a)(g,2),b=p[0],h=p[1],E=l.a.createElement("div",{className:"front",style:a},l.a.createElement("div",{className:"message-main"},l.a.createElement("div",{className:"message-body"},l.a.createElement("div",{className:"text ng-binding"},r.desc),l.a.createElement("a",{className:"message-body-link ng-scope","aria-label":"Edit message",onClick:function(){localStorage.token_id&&(u(!0),h(r.desc))}},l.a.createElement(f.a,{icon:["fas","pen"]}))))),v=l.a.createElement("div",{className:"front"},l.a.createElement("div",{className:"message-body",style:{flexDirection:"column",backgroundColor:e.color}},l.a.createElement("div",null,l.a.createElement("textarea",{"msd-elastic":"\\n\\n","aria-label":"Message text entry","data-gramm_editor":"false",className:"ng-pristine ng-valid ng-not-empty ng-touched","aria-invalid":"false",style:{overflow:"hidden",overflowWrap:"break-word",resize:"none",width:"100%",height:54},onChange:function(e){h(e.target.value)},value:b})),l.a.createElement("div",{style:{flexDirection:"row",justifyContent:"space-between",width:"100%",flex:1}},l.a.createElement("button",{className:"button-save",onClick:function(){if(b!==r.desc){c({desc:b});var e={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({desc:b})};fetch("https://jillo-backend.herokuapp.com/api/card/".concat(r._id),e).then((function(e){return e.json()})).then((function(e){c(e.data)})).catch((function(e){return console.log(e)})),u(!1)}else u(!1)}},"DONE"),l.a.createElement(k.b,{trigger:l.a.createElement("button",{className:"button-save","aria-label":"Delete message",style:{backgroundColor:"white",borderColor:"lightgray",marginLeft:10}},l.a.createElement(f.a,{icon:["fas","trash-alt"],color:"red"})),modal:!0,nested:!0},(function(a){return l.a.createElement("div",{className:"modal swal2-popup",style:{borderColor:"lightgray",borderWidth:2,backgroundColor:"#2196f3"}},l.a.createElement("div",{className:"content"},l.a.createElement("div",{style:{backgroundColor:"white",padding:20,borderRadius:10}},l.a.createElement("h2",{style:{color:"black"}},"Are you sure you want to delete?"),l.a.createElement("div",{style:{flexDirection:"row",display:"flex",justifyContent:"space-around",marginTop:10}},l.a.createElement("button",{type:"button",className:"swal2-confirm swal2-styled","aria-label":"",style:{borderLeftColor:"#e91e63",borderRightColor:"#e91e63"},onClick:function(){!function(){if(localStorage.token_id===e.boardOwner){fetch("https://jillo-backend.herokuapp.com/api/card/".concat(r._id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){return console.log(e)}))}}(),a()}},"Yes, delete it!"),l.a.createElement("button",{className:"swal2-cancel swal2-styled",onClick:function(){a()}},"No. Keep it!")))))})))));return l.a.createElement("li",{id:"new_"+e.card._id,className:"ng-scope message"},l.a.createElement("div",{messageid:"new_"+e.card._id},m?v:E))};var A=function(e){var a={backgroundColor:e.color},t=Object(n.useState)(e.content),o=Object(s.a)(t,2),r=o[0],c=o[1];return l.a.createElement("li",{id:"new",className:"ng-scope message"},l.a.createElement("div",{messageid:"new"},l.a.createElement("div",{className:"front",style:a},l.a.createElement("div",{className:"message-body",style:{flexDirection:"column"}},l.a.createElement("div",null,l.a.createElement("textarea",{"msd-elastic":"\\n\\n","aria-label":"Message text entry","data-gramm_editor":"false",className:"ng-pristine ng-valid ng-not-empty ng-touched","aria-invalid":"false",style:{overflow:"hidden",overflowWrap:"break-word",resize:"none",width:"100%",height:54},onChange:function(a){c(a.target.value),e.onChange(e.index,a.target.value)},value:e.content})),l.a.createElement("div",{style:{flexDirection:"row",justifyContent:"space-between",width:"100%",flex:1}},l.a.createElement("button",{className:"button-save",onClick:function(){if(r&&""!==r.trim()){var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({column_id:e.column,desc:r})};fetch("https://jillo-backend.herokuapp.com/api/card",a).then((function(e){return e.json()})).then((function(a){a.data?e.onSave(e.index,a.data):e.onClose(e.index)})).catch((function(e){return console.log(e)}))}else e.onClose(e.index)}},"DONE"),l.a.createElement("button",{className:"button-save","aria-label":"Delete message",style:{backgroundColor:"white",borderColor:"lightgray",marginLeft:10},onClick:function(){e.onClose(e.index)}},l.a.createElement(f.a,{icon:["fas","trash-alt"],color:"red"})))))))};var D=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)(e.column),i=Object(s.a)(c,2),d=i[0],m=i[1],u=Object(n.useState)(e.column.color),g=Object(s.a)(u,2),p=g[0],b=g[1],h=Object(n.useState)(!1),E=Object(s.a)(h,2),v=E[0],j=E[1],k=Object(n.useState)(""),N=Object(s.a)(k,2),O=N[0],w=N[1],C=Object(n.useState)([]),S=Object(s.a)(C,2),D=S[0],R=S[1];Object(n.useEffect)((function(){fetch("https://jillo-backend.herokuapp.com/api/card/column/".concat(e.column._id),{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}));var L,I=function(e,a){D[e].content=a},P=function(e){var a=D.slice(0,e).concat(D.slice(e+1));R(a)},q=function(e,a){P(e);var t=[a];t=t.concat(o.slice()),r(t)},B=l.a.createElement(x.a,{id:"popover-basic"},l.a.createElement(x.a.Content,null,l.a.createElement(_.a,{color:p,onChangeComplete:function(e){var a={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({color:e.hex})};fetch("https://jillo-backend.herokuapp.com/api/column/".concat(d._id),a).then((function(e){return e.json()})).then((function(a){m(a.data),b(e.hex)})).catch((function(e){return console.log(e)}))}})));return l.a.createElement("span",{className:"message-list ng-scope selected","data-column-id":"1","data-column-index":"0"},l.a.createElement("div",{className:"column-header"},l.a.createElement("h2",{className:"ng-scope",style:{flexDirection:"row",display:"inline-flex"}},l.a.createElement("span",null,l.a.createElement(y.a,{trigger:"click",placement:"bottom",overlay:B},l.a.createElement("div",{style:{backgroundColor:p,height:15,width:15,marginRight:10,alignSelf:"center",borderRadius:5}}))),l.a.createElement("span",{className:"column-name ng-binding",role:"button",tabIndex:"0",onClick:function(){w(d.name),j(!0)},style:{display:v?"none":"inline-flex"}},d.name),l.a.createElement("div",{style:{flexDirection:"column",display:v?"inherit":"none"}},l.a.createElement("input",{type:"text",maxLength:"50",style:{width:200},value:O,onChange:function(e){w(e.target.value)}}),l.a.createElement("div",{style:{flexDirection:"row",marginTop:5,justifyContent:"center"}},l.a.createElement("button",{onClick:function(){if(O!==d.name){m({name:O});var e={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:O})};fetch("https://jillo-backend.herokuapp.com/api/column/".concat(d._id),e).then((function(e){return e.json()})).then((function(e){m(e.data)})).catch((function(e){return console.log(e)})),j(!1)}else j(!1)}},"Save"),l.a.createElement("button",{onClick:function(){j(!1)}},"Cancel")))),l.a.createElement("button",{className:"add-card ng-scope","aria-label":"Add new message",style:{display:v?"none":"inherit"},onClick:function(){for(var a=D.slice(),t=a.length;a.filter((function(e){return e.id===t})).length>0;)t+=1;a.push({id:t,content:"",column_id:e.column._id}),R(a)}},l.a.createElement(f.a,{icon:"plus"}))),l.a.createElement("ul",{className:"column",id:"1",dragula:'"bag-one"',"dragula-model":"messages"},((L=D).slice().reverse(),L.map((function(e,a){return l.a.createElement(A,{key:"new_"+e.id,color:p,index:a,desc:e.content,column:e.column_id,onClose:P,onSave:q,onChange:I})}))),function(a){var t=a.slice();return t.reverse(),t.map((function(a){return l.a.createElement(T,{key:a._id,color:p,card:a,boardOwner:e.owner})}))}(o)))};var R=function(e){var a=Object(n.useState)(e.boardId),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)({}),d=Object(s.a)(c,2),m=d[0],u=d[1],g=Object(n.useState)([]),p=Object(s.a)(g,2),f=p[0],E=p[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),k=j[0],N=j[1],O=Object(i.h)().board_id;return e.boardId||o||r(O),Object(n.useEffect)((function(){fetch("https://jillo-backend.herokuapp.com/api/board/".concat(o),{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){u(e.data)})).catch((function(e){return console.log(e)})),m&&fetch("https://jillo-backend.herokuapp.com/api/column/board/".concat(o),{method:"GET",headers:new Headers({Accept:"application/json; charset=utf-8"})}).then((function(e){return e.json()})).then((function(e){var a=e.data.slice();a.sort((function(e,a){return e.order-a.order})),E(a),console.log(a)})).catch((function(e){return console.log(e)}))})),localStorage.token_id?l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement(S,{boardId:o,onShare:function(){N(!0),v()("http://localhost:3000/board/".concat(o))}}),k?l.a.createElement(h.a,{variant:"success",onClose:function(){return N(!1)},dismissible:!0,style:{display:"flex",backgroundColor:"#d4edda",flexDirection:"row-reverse",alignItems:"center",justifyContent:"space-between",paddingLeft:50,paddingRight:50}},l.a.createElement("p",{style:{color:"#155724",textAlign:"center"}},"Board URL copied! Share it with people to collaborate.")):null,l.a.createElement("main",{"main-content":"",className:"ng-scope",style:{flexDirection:"row",justifyContent:"center"}},l.a.createElement("span",{dragula:'"bag-two"',id:"capture",className:"ng-isolate-scope container"},f.map((function(e){return l.a.createElement(D,{column:e,owner:m.owner_id})}))))):l.a.createElement(i.a,{to:"/login"})};var L=function(e){return localStorage.token_id?l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement(C,null)):l.a.createElement(i.a,{to:"/login"})},I=(t(253),{year:"numeric",month:"long",day:"numeric"});var P=function(e){var a=Object(n.useState)({}),t=Object(s.a)(a,2),o=t[0],r=t[1],c=Object(n.useState)(""),d=Object(s.a)(c,2),m=d[0],u=d[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),f=h[0],E=h[1],v=Object(n.useState)(!1),y=Object(s.a)(v,2),j=y[0],k=y[1],N=Object(n.useState)(""),O=Object(s.a)(N,2),w=O[0],C=O[1],S=Object(n.useState)(""),x=Object(s.a)(S,2),_=x[0],T=x[1],A=Object(n.useState)(""),D=Object(s.a)(A,2),R=D[0],L=D[1],P=Object(n.useState)(""),q=Object(s.a)(P,2),B=q[0],J=q[1],U=Object(n.useState)(""),W=Object(s.a)(U,2),H=W[0],G=W[1];return Object(n.useEffect)((function(){if(localStorage.token)try{var e=Object(p.a)(localStorage.token),a=new Date(e.created_at).toLocaleDateString("en-US",I),t={_id:e._id,name:e.name,username:e.username,email:e.email,created_at:e.created_at};r(t),u(a)}catch(B){}}),[]),localStorage.token_id?l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",null,l.a.createElement("form",{className:"form form-tabs ng-pristine ng-valid ng-valid-required",layout:"column"},l.a.createElement("div",{className:"tabs"},l.a.createElement("a",{className:"active"},"User Profile")),l.a.createElement("div",{className:"ng-scope"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username"),l.a.createElement("br",null),l.a.createElement("strong",{id:"current-username",className:"ng-binding"},o.username)),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Name"),l.a.createElement("input",{id:"name",type:"text",placeholder:"Name",required:"",className:"ng-pristine ng-untouched ng-scope ng-not-empty ng-valid ng-valid-required","aria-invalid":"false",value:o.name,onChange:function(e){var a=e.target.value;r({name:a,email:o.email,username:o.username,_id:o._id,created_at:o.created_at})}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("br",null),l.a.createElement("strong",{id:"current-email",className:"ng-binding"},o.email),l.a.createElement("br",null),f?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("input",{id:"name",type:"text",placeholder:"New Email",required:"",className:"ng-pristine ng-untouched ng-scope ng-not-empty ng-valid ng-valid-required","aria-invalid":"false",value:R,onChange:function(e){L(e.target.value)},style:{marginBottom:10}}),l.a.createElement("button",{type:"button",style:{backgroundColor:"gray",borderRadius:10,marginTop:0},onClick:function(){L(o.email),E(!1)}},"Cancel change email")):l.a.createElement("a",{className:"ng-scope",onClick:function(){return E(!0)}},"Change email")),l.a.createElement("br",{className:"ng-scope"}),l.a.createElement("div",{className:"form-group ng-scope"},l.a.createElement("label",null,"Password"),l.a.createElement("br",null),j?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("input",{id:"new-password",type:"password",placeholder:"New Password",required:"",className:"ng-pristine ng-untouched ng-scope ng-not-empty ng-valid ng-valid-required","aria-invalid":"false",value:_,onChange:function(e){T(e.target.value)},style:{marginBottom:5}}),l.a.createElement("button",{type:"button",style:{backgroundColor:"gray",borderRadius:10,marginTop:0},onClick:function(){T(""),k(!1)}},"Cancel change password")):l.a.createElement("a",{className:"ng-scope",onClick:function(){return k(!0)}},"Reset password")),l.a.createElement("br",null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Registered"),l.a.createElement("br",null),l.a.createElement("strong",{className:"ng-binding"},m)),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("input",{id:"current-password",type:"password",placeholder:"Current Password",required:"",className:"ng-pristine ng-untouched ng-scope ng-not-empty ng-valid ng-valid-required","aria-invalid":"false",value:w,onChange:function(e){C(e.target.value)}}),l.a.createElement("br",null)),B?l.a.createElement("div",{style:{backgroundColor:"red",color:"darkred",padding:10,borderRadius:10,marginTop:10,marginBottom:20}},B):null,!B&&H?l.a.createElement("div",{style:{backgroundColor:"#d4edda",color:"#155724",padding:10,borderRadius:10,marginTop:10,marginBottom:20}},H):null,l.a.createElement("button",{className:"button first",type:"button","aria-hidden":"false",onClick:function(){if(_&&_.length<8)J("Please enter password with atleast 8 characters");else{var e={name:o.name,password:null,email:null};f&&""!==R&&R!==o.email&&(e.email=R),j&&""!==_&&_.length>8&&(e.password=_,console.log(e.password));var a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user_id:localStorage.token_id,password:w})};fetch("https://jillo-backend.herokuapp.com/api/user/checkpassword",a).then((function(e){return e.json()})).then((function(a){if(a.success){J("");var t={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://jillo-backend.herokuapp.com/api/user/".concat(localStorage.token_id),t).then((function(e){return e.json()})).then((function(a){localStorage.token=a.token,r(e),J(""),G("Updated "+(f&&j?"Email and Password":f?"Email":j?"Password":""))})).catch((function(e){return J("Error when Saving!")}))}else J(a.msg)})).catch((function(e){return J("Error when Checking current Password!")}))}}},"Update"))))):l.a.createElement(i.a,{to:"/login"})};function q(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(i.d,null,l.a.createElement(i.b,{path:"/login"},l.a.createElement(u,{formState:"login"})),l.a.createElement(i.b,{path:"/register"},l.a.createElement(u,{formState:"register"})),l.a.createElement(i.b,{path:"/profile"},l.a.createElement(P,null)),l.a.createElement(i.b,{path:"/board/:board_id"},l.a.createElement(R,null)),l.a.createElement(i.b,{path:"/"},l.a.createElement(L,null)))))}r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,a,t){}},[[122,1,2]]]);
//# sourceMappingURL=main.e4453ec6.chunk.js.map